{"ast":null,"code":"var _jsxFileName = \"/home/sitrack/Escritorio/ProyectoFinal/ApplicacionWeb/src/components/pures/dashboard.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Grid, Button } from '@mui/material';\nimport Dashboard from '../../app/Appdashboard';\nimport { getDateFromApi } from '../../Services/axiosService';\n/**\n * El prp Variable es el nombre de la leyenda cuando pones el cursor sobre la grafica \n */\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ShowData(_ref) {\n  _s();\n\n  let {\n    Variable\n  } = _ref;\n  var timer;\n  const [date, setDate] = useState([]);\n  const [meditions, setMeditions] = useState([]);\n\n  const obtainDate = () => {\n    getDateFromApi().then(response => {\n      if (response.status === 200) {\n        //Si la respuesta esta ok, guardo la fecha en la variable date. \n        let tempDate = [];\n        let tempMeditions = [];\n        let tempResponse = response.data.medition;\n        tempResponse.forEach((element, index) => {\n          let temp = element.medition.toString();\n          let array = temp.split(',');\n          tempDate.push(array[2]);\n          setDate(tempDate);\n          tempMeditions.push(array[0]);\n          setMeditions(tempMeditions);\n        });\n      }\n    }).catch(error => alert(`An error has ocurred ${error}`));\n  };\n\n  useEffect(() => {\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    //timer = setInterval(obtainDate, 10000);\n    obtainDate(); //obtiene los datos una unica vez ni bien renderiza el componente. \n\n    return () => clearInterval(timer);\n  }, []);\n\n  const stopRefresh = () => {\n    // clearInterval(timer);\n    console.log(\"hola\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      onMouseOver: stopRefresh,\n      children: /*#__PURE__*/_jsxDEV(Dashboard, {\n        title: \"Tension bateria\",\n        subheader: \"Panel solar 500mA\",\n        leyend: Variable,\n        chartLabels: date,\n        chartData: [{\n          name: 'Team B',\n          type: 'area',\n          fill: 'gradient',\n          data: meditions\n        }]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      item: true,\n      xs: 12,\n      md: 6,\n      lg: 4,\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        onClick: obtainDate,\n        variant: \"contained\",\n        children: \"Refresh\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 9\n  }, this);\n}\n\n_s(ShowData, \"8up8uaCei6nZbTsYLSHjY0RV+tA=\");\n\n_c = ShowData;\n\nvar _c;\n\n$RefreshReg$(_c, \"ShowData\");","map":{"version":3,"names":["React","useState","useEffect","Grid","Button","Dashboard","getDateFromApi","ShowData","Variable","timer","date","setDate","meditions","setMeditions","obtainDate","then","response","status","tempDate","tempMeditions","tempResponse","data","medition","forEach","element","index","temp","toString","array","split","push","catch","error","alert","clearInterval","stopRefresh","console","log","name","type","fill"],"sources":["/home/sitrack/Escritorio/ProyectoFinal/ApplicacionWeb/src/components/pures/dashboard.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { Grid, Button } from '@mui/material';\nimport Dashboard from '../../app/Appdashboard'\nimport { getDateFromApi } from '../../Services/axiosService';\n\n/**\n * El prp Variable es el nombre de la leyenda cuando pones el cursor sobre la grafica \n */\nexport default function ShowData({ Variable }) {\n\n    var timer;\n    const [date, setDate] = useState([]);\n    const [meditions, setMeditions] = useState([]);\n\n    const obtainDate = () => {\n        getDateFromApi()\n            .then((response) => {\n                if (response.status === 200) {//Si la respuesta esta ok, guardo la fecha en la variable date. \n\n                    let tempDate = [];\n                    let tempMeditions = [];\n                    let tempResponse = response.data.medition;\n\n                    tempResponse.forEach((element, index) => {\n                        let temp = element.medition.toString();\n                        let array = temp.split(',');\n                        tempDate.push(array[2]);\n                        setDate(tempDate);\n                        tempMeditions.push(array[0]);\n                        setMeditions(tempMeditions);\n                    });\n                }\n            })\n            .catch((error) => alert(`An error has ocurred ${error}`))\n    }\n\n    useEffect(() => {\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        //timer = setInterval(obtainDate, 10000);\n        obtainDate(); //obtiene los datos una unica vez ni bien renderiza el componente. \n        return () => clearInterval(timer);\n    },[]);\n\n    const stopRefresh = ()=> {\n        // clearInterval(timer);\n         console.log(\"hola\");\n    }\n\n    return (\n\n        <div >\n            <div  onMouseOver={stopRefresh}>\n               \n            <Dashboard\n                title=\"Tension bateria\"\n                subheader=\"Panel solar 500mA\"\n                leyend={Variable}\n                chartLabels={date}\n                chartData={[\n                    {\n                        name: 'Team B',\n                        type: 'area',\n                        fill: 'gradient',\n                        data: meditions\n                    },\n                ]}\n            />\n            </div>\n\n            <Grid item xs={12} md={6} lg={4}>\n                <Button onClick={obtainDate} variant=\"contained\">Refresh</Button>\n            </Grid>\n\n        </div>\n    )\n}\n\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,IAAT,EAAeC,MAAf,QAA6B,eAA7B;AACA,OAAOC,SAAP,MAAsB,wBAAtB;AACA,SAASC,cAAT,QAA+B,6BAA/B;AAEA;AACA;AACA;;;AACA,eAAe,SAASC,QAAT,OAAgC;EAAA;;EAAA,IAAd;IAAEC;EAAF,CAAc;EAE3C,IAAIC,KAAJ;EACA,MAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBV,QAAQ,CAAC,EAAD,CAAhC;EACA,MAAM,CAACW,SAAD,EAAYC,YAAZ,IAA4BZ,QAAQ,CAAC,EAAD,CAA1C;;EAEA,MAAMa,UAAU,GAAG,MAAM;IACrBR,cAAc,GACTS,IADL,CACWC,QAAD,IAAc;MAChB,IAAIA,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;QAAC;QAE1B,IAAIC,QAAQ,GAAG,EAAf;QACA,IAAIC,aAAa,GAAG,EAApB;QACA,IAAIC,YAAY,GAAGJ,QAAQ,CAACK,IAAT,CAAcC,QAAjC;QAEAF,YAAY,CAACG,OAAb,CAAqB,CAACC,OAAD,EAAUC,KAAV,KAAoB;UACrC,IAAIC,IAAI,GAAGF,OAAO,CAACF,QAAR,CAAiBK,QAAjB,EAAX;UACA,IAAIC,KAAK,GAAGF,IAAI,CAACG,KAAL,CAAW,GAAX,CAAZ;UACAX,QAAQ,CAACY,IAAT,CAAcF,KAAK,CAAC,CAAD,CAAnB;UACAjB,OAAO,CAACO,QAAD,CAAP;UACAC,aAAa,CAACW,IAAd,CAAmBF,KAAK,CAAC,CAAD,CAAxB;UACAf,YAAY,CAACM,aAAD,CAAZ;QACH,CAPD;MAQH;IACJ,CAjBL,EAkBKY,KAlBL,CAkBYC,KAAD,IAAWC,KAAK,CAAE,wBAAuBD,KAAM,EAA/B,CAlB3B;EAmBH,CApBD;;EAsBA9B,SAAS,CAAC,MAAM;IACZ;IACA;IACAY,UAAU,GAHE,CAGE;;IACd,OAAO,MAAMoB,aAAa,CAACzB,KAAD,CAA1B;EACH,CALQ,EAKP,EALO,CAAT;;EAOA,MAAM0B,WAAW,GAAG,MAAK;IACrB;IACCC,OAAO,CAACC,GAAR,CAAY,MAAZ;EACJ,CAHD;;EAKA,oBAEI;IAAA,wBACI;MAAM,WAAW,EAAEF,WAAnB;MAAA,uBAEA,QAAC,SAAD;QACI,KAAK,EAAC,iBADV;QAEI,SAAS,EAAC,mBAFd;QAGI,MAAM,EAAE3B,QAHZ;QAII,WAAW,EAAEE,IAJjB;QAKI,SAAS,EAAE,CACP;UACI4B,IAAI,EAAE,QADV;UAEIC,IAAI,EAAE,MAFV;UAGIC,IAAI,EAAE,UAHV;UAIInB,IAAI,EAAET;QAJV,CADO;MALf;QAAA;QAAA;QAAA;MAAA;IAFA;MAAA;MAAA;MAAA;IAAA,QADJ,eAmBI,QAAC,IAAD;MAAM,IAAI,MAAV;MAAW,EAAE,EAAE,EAAf;MAAmB,EAAE,EAAE,CAAvB;MAA0B,EAAE,EAAE,CAA9B;MAAA,uBACI,QAAC,MAAD;QAAQ,OAAO,EAAEE,UAAjB;QAA6B,OAAO,EAAC,WAArC;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IADJ;MAAA;MAAA;MAAA;IAAA,QAnBJ;EAAA;IAAA;IAAA;IAAA;EAAA,QAFJ;AA2BH;;GAnEuBP,Q;;KAAAA,Q"},"metadata":{},"sourceType":"module"}